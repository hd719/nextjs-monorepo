/* ==========================================================================
   Layout Component Styles
   Using @layer components to bundle with main CSS (prevents FOUC)
   ========================================================================== */

@layer components {
  /**
   * AppLayout Component Styles
   *
   * Main app layout wrapper with sidebar, header, and bottom navigation
   */

  /* ==========================================================================
     Container
     ========================================================================== */

  .app-layout-container {
    @apply min-h-screen;
    background-color: var(--background);

    /* Soft radial glow - subtle mint accents in corners */
    background-image:
      radial-gradient(
        ellipse 80% 50% at 90% 10%,
        var(--bg-glow-1) 0%,
        transparent 50%
      ),
      radial-gradient(
        ellipse 60% 40% at 10% 90%,
        var(--bg-glow-2) 0%,
        transparent 50%
      );
    background-attachment: fixed;
  }

  /* ==========================================================================
     Content Area
     ========================================================================== */

  .app-layout-content-wrapper {
    @apply lg:pl-60;
  }

  .app-layout-main {
    @apply p-4 lg:p-6 pb-20 lg:pb-6;
  }

  .app-layout-main-inner {
    @apply max-w-7xl mx-auto;
  }

  /**
   * Header Component Styles
   *
   * Main app header with search, notifications, and profile menu
   */

  /* ==========================================================================
     Header Container
     ========================================================================== */

  .header-container {
    @apply sticky top-0 z-40 border-b backdrop-blur;
    border-color: var(--border);
    background-color: color-mix(in srgb, var(--background) 95%, transparent);
  }

  @supports (backdrop-filter: blur(0)) {
    .header-container {
      background-color: color-mix(in srgb, var(--background) 60%, transparent);
    }
  }

  .header-inner {
    @apply flex items-center h-16 px-4 lg:px-6;
  }

  /* ==========================================================================
     Mobile Logo
     ========================================================================== */

  .header-mobile-logo {
    @apply flex lg:hidden items-center flex-1;
    transition:
      opacity 0.2s ease,
      transform 0.2s ease;
  }

  .header-mobile-logo-hidden {
    @apply opacity-0 pointer-events-none absolute;
    transform: translateX(-20px);
  }

  .header-logo-text {
    @apply text-lg font-bold;
    color: var(--foreground);
  }

  .header-logo-accent {
    color: var(--accent);
  }

  /* ==========================================================================
     Search Bar
     ========================================================================== */

  .header-search-container {
    @apply hidden lg:flex flex-1 items-center gap-2;
  }

  .header-search-wrapper {
    @apply relative w-full max-w-md;
  }

  .header-search-icon {
    @apply absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4;
    color: var(--muted-foreground);
  }

  .header-search-input {
    @apply w-full h-10 pl-10 pr-4 rounded-md border text-sm;
    border-color: var(--input);
    background-color: var(--background);
  }

  .header-search-input::placeholder {
    color: var(--muted-foreground);
  }

  .header-search-input:focus {
    @apply outline-none ring-2 ring-offset-2;
    --tw-ring-color: var(--ring);
  }

  /* ==========================================================================
     Actions
     ========================================================================== */

  .header-actions {
    @apply flex items-center gap-2;
    transition:
      opacity 0.2s ease,
      transform 0.2s ease;
  }

  .header-actions-hidden {
    @apply opacity-0 pointer-events-none;
    transform: translateX(20px);
  }

  .header-mobile-search-button {
    @apply lg:hidden;
  }

  .header-icon {
    @apply w-5 h-5;
  }

  /* ==========================================================================
     Mobile Search Overlay
     ========================================================================== */

  .header-mobile-search-overlay {
    @apply absolute left-0 right-0 top-0 h-16 items-center gap-2 px-4 lg:px-6;
    @apply hidden;
    opacity: 0;
    pointer-events: none;
    transform: translateY(-10px);
    transition:
      opacity 0.25s ease,
      transform 0.25s ease;
    background-color: color-mix(in srgb, var(--background) 98%, transparent);
  }

  .header-mobile-search-overlay-open {
    @apply flex; /* Show on all screen sizes */
    opacity: 1;
    pointer-events: auto;
    transform: translateY(0);
  }

  .header-mobile-search-input-wrapper {
    @apply relative flex-1;
  }

  .header-mobile-search-input-icon {
    @apply absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4;
    color: var(--muted-foreground);
  }

  .header-mobile-search-input {
    @apply w-full h-10 pl-10 pr-4 rounded-lg border text-sm;
    border-color: var(--accent);
    background-color: var(--background);
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent) 20%, transparent);
  }

  .header-mobile-search-input::placeholder {
    color: var(--muted-foreground);
  }

  .header-mobile-search-input:focus {
    @apply outline-none;
    border-color: var(--accent);
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent) 30%, transparent);
  }

  .header-mobile-search-close {
    @apply shrink-0;
  }

  /**
   * Sidebar Component Styles
   *
   * Desktop sidebar navigation
   */

  /* ==========================================================================
     Sidebar Container
     ========================================================================== */

  .sidebar-container {
    @apply hidden lg:flex lg:flex-col lg:w-60 lg:fixed lg:left-0 lg:top-0 lg:h-screen lg:border-r;
    background-color: var(--card);
    border-color: var(--border);
  }

  /* ==========================================================================
     Logo Section
     ========================================================================== */

  .sidebar-logo {
    @apply flex items-center h-16 px-6 border-b;
    border-color: var(--border);
  }

  .sidebar-logo-text {
    @apply text-xl font-bold;
    color: var(--foreground);
  }

  .sidebar-logo-accent {
    color: var(--accent);
  }

  /* ==========================================================================
     Navigation
     ========================================================================== */

  .sidebar-nav {
    @apply flex-1 px-4 py-6 space-y-2;
  }

  .sidebar-nav-link {
    @apply flex items-center gap-3 px-4 py-3 rounded-lg transition-colors;
    color: var(--muted-foreground);
  }

  .sidebar-nav-link:hover {
    background-color: var(--accent);
    color: var(--accent-foreground);
  }

  .sidebar-nav-link-active {
    @apply flex items-center gap-3 px-4 py-3 rounded-lg transition-colors;
    background-color: var(--accent);
    color: var(--accent-foreground);
  }

  .sidebar-icon {
    @apply w-5 h-5;
  }

  .sidebar-label {
    @apply font-medium;
  }

  /**
   * BottomNav Component Styles
   *
   * Mobile bottom navigation bar
   */

  /* ==========================================================================
     Navigation Container
     ========================================================================== */

  .bottom-nav-container {
    @apply fixed bottom-0 left-0 right-0 lg:hidden border-t z-50;
    background-color: var(--card);
    border-color: var(--border);
  }

  .bottom-nav-inner {
    @apply flex items-center justify-around h-16;
  }

  /* ==========================================================================
     Nav Items
     ========================================================================== */

  .bottom-nav-link {
    @apply flex flex-col items-center justify-center flex-1 h-full transition-colors;
    color: var(--muted-foreground);
  }

  .bottom-nav-link:hover {
    background-color: color-mix(in srgb, var(--accent) 10%, transparent);
  }

  .bottom-nav-link-active {
    @apply flex flex-col items-center justify-center flex-1 h-full transition-colors;
    color: var(--accent);
  }

  .bottom-nav-icon {
    @apply w-6 h-6;
  }

  .bottom-nav-label {
    @apply text-xs font-medium mt-1;
  }

  /**
   * ProfileMenu Component Styles
   *
   * This section contains all styling for the ProfileMenu dropdown component.
   * Uses Tailwind's @apply directive for consistent design tokens.
   */

  /* ==========================================================================
     Menu Trigger
     ========================================================================== */

  .profile-menu-icon {
    @apply w-5 h-5;
  }

  /* ==========================================================================
     Menu Content
     ========================================================================== */

  .profile-menu-content {
    @apply w-56 shadow-lg;
  }

  .profile-menu-content-light {
    @apply bg-white text-slate-900 border-slate-200;
  }

  .profile-menu-content-dark {
    @apply bg-[#020617] text-white border-slate-700;
  }

  /* ==========================================================================
     Menu Label
     ========================================================================== */

  .profile-menu-label-light {
    @apply text-slate-900;
  }

  .profile-menu-label-dark {
    @apply text-white;
  }

  /* ==========================================================================
     Menu Separator
     ========================================================================== */

  .profile-menu-separator-light {
    @apply bg-slate-200;
  }

  .profile-menu-separator-dark {
    @apply bg-slate-700;
  }

  /* ==========================================================================
     Menu Items
     ========================================================================== */

  .profile-menu-item {
    @apply cursor-pointer;
  }

  .profile-menu-item:hover,
  .profile-menu-item:focus {
    background-color: var(--accent);
    color: var(--accent-foreground);
  }

  .profile-menu-item-light {
    @apply text-slate-900;
  }

  .profile-menu-item-dark {
    @apply text-white;
  }

  /* ==========================================================================
     Item Icons
     ========================================================================== */

  .profile-menu-item-icon {
    @apply mr-2 h-4 w-4;
  }
}
